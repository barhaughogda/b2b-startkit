# ===========================================
# Zenthea Environment Variables
# ===========================================
# Copy this file to .env.local: cp env.template .env.local
# 
# IMPORTANT: Never commit .env.local to git!
# This template shows all required and optional variables.
# Variables prefixed with NEXT_PUBLIC_ are exposed to the browser.
# Variables without NEXT_PUBLIC_ are server-only secrets.
#
# Zenthea uses AWS Postgres (not Supabase) and runs entirely on AWS
# infrastructure for HIPAA compliance. See docs/migration-plan.md

# ===========================================
# NODE ENVIRONMENT
# ===========================================
# Set to 'development', 'test', or 'production'
# Defaults to 'development' if not set
NODE_ENV=development

# ===========================================
# CLERK (Authentication)
# ===========================================
# Get these from: https://dashboard.clerk.com
# 
# Required for all Zenthea deployments:
# - Create a Clerk application
# - Copy the publishable key (starts with pk_)
# - Copy the secret key (starts with sk_)
# - Set up webhook endpoint: /api/webhooks/clerk
# - Copy webhook signing secret (starts with whsec_)

# Publishable key - exposed to browser (safe)
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_xxxxx

# Secret key - server only (NEVER expose)
CLERK_SECRET_KEY=sk_test_xxxxx

# Webhook secret - for verifying webhook requests
CLERK_WEBHOOK_SECRET=whsec_xxxxx

# Clerk URL routing (optional - defaults shown)
NEXT_PUBLIC_CLERK_SIGN_IN_URL=/sign-in
NEXT_PUBLIC_CLERK_SIGN_UP_URL=/sign-up

# ===========================================
# AWS POSTGRES (Database)
# ===========================================
# Zenthea uses AWS RDS/Aurora Postgres (not Supabase)
# 
# Required for all Zenthea deployments:
# - Provision AWS RDS Postgres or Aurora Postgres instance
# - Ensure RLS policies are applied (via db:apply-rls)
# - Get connection string from AWS RDS console
#
# Format: postgresql://user:password@host:port/database
# Example: postgresql://zenthea:password@zenthea-db.xxxxx.us-east-1.rds.amazonaws.com:5432/zenthea

DATABASE_URL=postgresql://user:password@host:port/database

# ===========================================
# AWS S3 (File Storage)
# ===========================================
# Zenthea uses S3 with KMS encryption for HIPAA-compliant storage
# 
# Required for all Zenthea deployments:
# - Create S3 buckets in AWS (us-east-1 recommended)
# - Enable KMS encryption (SSE-KMS) on buckets
# - Configure bucket policies for HIPAA compliance
# - Set up CloudFront distribution if needed for public assets
#
# If running on ECS/EC2 with IAM roles, AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY
# are optional (IAM role credentials will be used automatically)

AWS_REGION=us-east-1
AWS_S3_BUCKET=zenthea-images-prod
AWS_S3_MEDICAL_BUCKET=zenthea-medical-images-prod

# Optional: Only needed if not using IAM roles (e.g., local development)
AWS_ACCESS_KEY_ID=AKIAxxxxx
AWS_SECRET_ACCESS_KEY=xxxxx

# Optional: CloudFront domain for public assets
NEXT_PUBLIC_CLOUDFRONT_DOMAIN=d1234567890.cloudfront.net

# ===========================================
# STRIPE (Billing)
# ===========================================
# Get these from: https://dashboard.stripe.com
# 
# Required for billing features:
# - Create a Stripe account
# - Go to Developers > API keys
# - Copy the publishable key (starts with pk_)
# - Copy the secret key (starts with sk_)
# - Set up webhook endpoint: /api/webhooks/stripe
# - Copy webhook signing secret (starts with whsec_)

# Publishable key - exposed to browser (safe)
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_xxxxx

# Secret key - server only (NEVER expose)
STRIPE_SECRET_KEY=sk_test_xxxxx

# Webhook secret - for verifying webhook requests
STRIPE_WEBHOOK_SECRET=whsec_xxxxx

# ===========================================
# APPLICATION CONFIGURATION
# ===========================================
# Base URL of your application
# Used for generating absolute URLs (emails, redirects, etc.)
NEXT_PUBLIC_APP_URL=http://localhost:3000

# ===========================================
# OPTIONAL SERVICES
# ===========================================
# These are optional and can be added as needed
# Ensure all vendors have BAAs if they handle PHI

# SENDGRID (Email)
# Get from: https://app.sendgrid.com/settings/api_keys
# Used for transactional emails (invitations, notifications)
# NOTE: Ensure BAA is in place if emails contain PHI
# SENDGRID_API_KEY=SG.xxxxx

# GOOGLE CALENDAR (Integration)
# Get from: https://console.cloud.google.com/apis/credentials
# Used for calendar integration features
# GOOGLE_CALENDAR_CLIENT_ID=xxxxx.apps.googleusercontent.com
# GOOGLE_CALENDAR_CLIENT_SECRET=xxxxx

# CLOUDINARY (Image CDN - Marketing/Public Assets Only)
# Get from: https://cloudinary.com/console
# Used for public/marketing images (NOT PHI)
# CLOUDINARY_CLOUD_NAME=xxxxx
# CLOUDINARY_API_KEY=xxxxx
# CLOUDINARY_API_SECRET=xxxxx

# OPENAI (AI Features)
# Get from: https://platform.openai.com/api-keys
# Used for AI-powered features
# NOTE: Ensure BAA/terms allow PHI if used with patient data
# OPENAI_API_KEY=sk-xxxxx

# ELEVENLABS (Voice AI)
# Get from: https://elevenlabs.io/app/settings/api-keys
# Used for voice features
# NOTE: Ensure BAA/terms allow PHI if used with patient data
# ELEVENLABS_API_KEY=xxxxx

# RESEND (Email Alternative)
# Get from: https://resend.com/api-keys
# Alternative email provider
# RESEND_API_KEY=re_xxxxx

# POSTHOG (Analytics)
# Get from: https://posthog.com/settings/project
# Used for product analytics and feature flags
# NOTE: Must be configured to NOT capture PHI
# NEXT_PUBLIC_POSTHOG_KEY=phc_xxxxx
# NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com
# POSTHOG_API_KEY=phc_xxxxx

# SENTRY (Error Tracking)
# Get from: https://sentry.io/settings/projects/
# Used for error monitoring and performance tracking
# NOTE: Must be configured to NOT capture PHI in error reports
# NEXT_PUBLIC_SENTRY_DSN=https://xxxxx@sentry.io/xxxxx
# SENTRY_DSN=https://xxxxx@sentry.io/xxxxx
